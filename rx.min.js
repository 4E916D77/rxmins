/* 2019 Yunhai | RaySodeex */

function Vertexes(d,c,a,b){this.nTop=d;this.nRight=c;this.nBottom=a;this.nLeft=b}function Padding(d,c,a,b){this.nPaddingTop=d;this.nPaddingRight=c;this.nPaddingBottom=a;this.nPaddingLeft=b}function Margin(d,c,a,b){this.nMarginTop=d;this.nMarginRight=c;this.nMarginBottom=a;this.nMarginLeft=b}function Frame(a){this.szTagId=a;this.nsVertexes=new Vertexes(0,0,0,0);this.nsPadding=new Padding(0,0,0,0);this.nsMargin=new Margin(0,0,0,0);this.nWidth=0;this.nHeight=0}function View(a){this.szTagId=a;this.nsVertexes=new Vertexes(0,0,0,0);this.nsPadding=new Padding(0,0,0,0);this.nsMargin=new Margin(0,0,0,0);this.nWidth=0;this.nHeight=0}function LeftSideBar(a,b){this.frame=new Frame(a);this.view=new View(b);this.nVisualWidth=0}LeftSideBar.prototype.initFrameVertexes=function(b,c,a,d){this.frame.nsVertexes.nTop=c;this.frame.nsVertexes.nRight=-1;this.frame.nsVertexes.nBottom=a;this.frame.nsVertexes.nLeft=b;this.nVisualWidth=d};LeftSideBar.prototype.initFrameMargin=function(d,c,a,b){this.frame.nsMargin.nMarginTop=d;this.frame.nsMargin.nMarginRight=c;this.frame.nsMargin.nMarginBottom=a;this.frame.nsMargin.nMarginLeft=b};LeftSideBar.prototype.initFramePadding=function(d,c,a,b){this.frame.nsPadding.nPaddingTop=d;this.frame.nsPadding.nPaddingRight=c;this.frame.nsPadding.nPaddingBottom=a;this.frame.nsPadding.nPaddingLeft=b};LeftSideBar.prototype.initViewVertexes=function(d,c,a,b){this.view.nsVertexes.nTop=d;this.view.nsVertexes.nRight=c;this.view.nsVertexes.nBottom=a;this.view.nsVertexes.nLeft=b};LeftSideBar.prototype.initViewMargin=function(d,c,a,b){this.view.nsMargin.nMarginTop=d;this.view.nsMargin.nMarginRight=c;this.view.nsMargin.nMarginBottom=a;this.view.nsMargin.nMarginLeft=b};LeftSideBar.prototype.initViewPadding=function(d,c,a,b){this.view.nsPadding.nPaddingTop=d;this.view.nsPadding.nPaddingRight=c;this.view.nsPadding.nPaddingBottom=a;this.view.nsPadding.nPaddingLeft=b};LeftSideBar.prototype.show=function(a){$(this.frame.szTagId).css("top",String(this.frame.nsVertexes.nTop)+"px");$(this.frame.szTagId).css("right","unset");$(this.frame.szTagId).css("bottom",String(this.frame.nsVertexes.nBottom)+"px");$(this.frame.szTagId).css("left",String(this.frame.nsVertexes.nLeft)+"px");$(this.frame.szTagId).css("margin-top",String(this.frame.nsMargin.nMarginTop)+"px");$(this.frame.szTagId).css("margin-right",String(this.frame.nsMargin.nMarginRight)+"px");$(this.frame.szTagId).css("margin-bottom",String(this.frame.nsMargin.nMarginBottom)+"px");$(this.frame.szTagId).css("margin-left",String(this.frame.nsMargin.nMarginLeft)+"px");$(this.frame.szTagId).css("padding-top",String(this.frame.nsPadding.nPaddingTop)+"px");$(this.frame.szTagId).css("padding-right",String(this.frame.nsPadding.nPaddingRight)+"px");$(this.frame.szTagId).css("padding-bottom",String(this.frame.nsPadding.nPaddingBottom)+"px");$(this.frame.szTagId).css("padding-left",String(this.frame.nsPadding.nPaddingLeft)+"px");this.frame.nHeight=window.innerHeight-this.frame.nsVertexes.nTop-this.frame.nsVertexes.nBottom-this.frame.nsPadding.nPaddingTop-this.frame.nsPadding.nPaddingBottom;this.frame.nWidth=this.nVisualWidth-this.frame.nsPadding.nPaddingRight-this.frame.nsPadding.nPaddingLeft;$(this.view.szTagId).css("top",String(this.view.nsVertexes.nTop)+"px");$(this.view.szTagId).css("right","unset");$(this.view.szTagId).css("bottom",String(this.view.nsVertexes.nBottom)+"px");$(this.view.szTagId).css("left",String(this.view.nsVertexes.nLeft)+"px");$(this.view.szTagId).css("margin-top",String(this.view.nsMargin.nMarginTop)+"px");$(this.view.szTagId).css("margin-right",String(this.view.nsMargin.nMarginRight)+"px");$(this.view.szTagId).css("margin-bottom",String(this.view.nsMargin.nMarginBottom)+"px");$(this.view.szTagId).css("margin-left",String(this.view.nsMargin.nMarginLeft)+"px");$(this.view.szTagId).css("padding-top",String(this.view.nsPadding.nPaddingTop)+"px");$(this.view.szTagId).css("padding-right",String(this.view.nsPadding.nPaddingRight)+"px");$(this.view.szTagId).css("padding-bottom",String(this.view.nsPadding.nPaddingBottom)+"px");$(this.view.szTagId).css("padding-left",String(this.view.nsPadding.nPaddingLeft)+"px");this.view.nHeight=this.frame.nHeight-this.view.nsVertexes.nTop-this.view.nsVertexes.nBottom-this.view.nsMargin.nMarginTop-this.view.nsMargin.nMarginBottom-this.view.nsPadding.nPaddingTop-this.view.nsPadding.nPaddingBottom;this.view.nWidth=this.frame.nWidth-this.view.nsVertexes.nLeft-this.view.nsVertexes.nRight-this.view.nsMargin.nMarginLeft-this.view.nsMargin.nMarginRight-this.view.nsPadding.nPaddingRight-this.view.nsPadding.nPaddingLeft;$(this.view.szTagId).css("height","fit-content");$(this.view.szTagId).css("width",String(this.view.nWidth)+"px");$(this.view.szTagId).css("overflow-y","scroll");$(this.frame.szTagId).css("height","auto");if(a==0){$(this.frame.szTagId).css("width",String(this.frame.nWidth)+"px")}else{$(this.frame.szTagId).animate({width:String(this.frame.nWidth)+"px"},a)}};LeftSideBar.prototype.close=function(a){$(this.frame.szTagId).css("margin-right","0px");$(this.frame.szTagId).css("margin-left","0px");$(this.frame.szTagId).css("padding-right","0px");$(this.frame.szTagId).css("padding-left","0px");if(a==0){$(this.frame.szTagId).css("width","0px")}else{$(this.frame.szTagId).animate({width:"0px"},a)}};function RightSideBar(a,b){this.frame=new Frame(a);this.view=new View(b);this.nVisualWidth=0}RightSideBar.prototype.initFrameVertexes=function(b,c,a,d){this.frame.nsVertexes.nTop=c;this.frame.nsVertexes.nRight=b;this.frame.nsVertexes.nBottom=a;this.frame.nsVertexes.nLeft=0;this.nVisualWidth=d};RightSideBar.prototype.initFrameMargin=function(d,c,a,b){this.frame.nsMargin.nMarginTop=d;this.frame.nsMargin.nMarginRight=c;this.frame.nsMargin.nMarginBottom=a;this.frame.nsMargin.nMarginLeft=b};RightSideBar.prototype.initFramePadding=function(d,c,a,b){this.frame.nsPadding.nPaddingTop=d;this.frame.nsPadding.nPaddingRight=c;this.frame.nsPadding.nPaddingBottom=a;this.frame.nsPadding.nPaddingLeft=b};RightSideBar.prototype.initViewVertexes=function(d,c,a,b){this.view.nsVertexes.nTop=d;this.view.nsVertexes.nRight=c;this.view.nsVertexes.nBottom=a;this.view.nsVertexes.nLeft=b};RightSideBar.prototype.initViewMargin=function(d,c,a,b){this.view.nsMargin.nMarginTop=d;this.view.nsMargin.nMarginRight=c;this.view.nsMargin.nMarginBottom=a;this.view.nsMargin.nMarginLeft=b};RightSideBar.prototype.initViewPadding=function(d,c,a,b){this.view.nsPadding.nPaddingTop=d;this.view.nsPadding.nPaddingRight=c;this.view.nsPadding.nPaddingBottom=a;this.view.nsPadding.nPaddingLeft=b};RightSideBar.prototype.show=function(a){$(this.frame.szTagId).css("top",String(this.frame.nsVertexes.nTop)+"px");$(this.frame.szTagId).css("right",String(this.frame.nsVertexes.nRight)+"px");$(this.frame.szTagId).css("bottom",String(this.frame.nsVertexes.nBottom)+"px");$(this.frame.szTagId).css("left","unset");$(this.frame.szTagId).css("margin-top",String(this.frame.nsMargin.nMarginTop)+"px");$(this.frame.szTagId).css("margin-right",String(this.frame.nsMargin.nMarginRight)+"px");$(this.frame.szTagId).css("margin-bottom",String(this.frame.nsMargin.nMarginBottom)+"px");$(this.frame.szTagId).css("margin-left",String(this.frame.nsMargin.nMarginLeft)+"px");$(this.frame.szTagId).css("padding-top",String(this.frame.nsPadding.nPaddingTop)+"px");$(this.frame.szTagId).css("padding-right",String(this.frame.nsPadding.nPaddingRight)+"px");$(this.frame.szTagId).css("padding-bottom",String(this.frame.nsPadding.nPaddingBottom)+"px");$(this.frame.szTagId).css("padding-left",String(this.frame.nsPadding.nPaddingLeft)+"px");this.frame.nHeight=window.innerHeight-this.frame.nsVertexes.nTop-this.frame.nsVertexes.nBottom-this.frame.nsPadding.nPaddingTop-this.frame.nsPadding.nPaddingBottom;this.frame.nWidth=this.nVisualWidth-this.frame.nsPadding.nPaddingRight-this.frame.nsPadding.nPaddingLeft;$(this.view.szTagId).css("top",String(this.view.nsVertexes.nTop)+"px");$(this.view.szTagId).css("right",String(this.view.nsVertexes.nRight)+"px");$(this.view.szTagId).css("bottom",String(this.view.nsVertexes.nBottom)+"px");$(this.view.szTagId).css("left","unset");$(this.view.szTagId).css("margin-top",String(this.view.nsMargin.nMarginTop)+"px");$(this.view.szTagId).css("margin-right",String(this.view.nsMargin.nMarginRight)+"px");$(this.view.szTagId).css("margin-bottom",String(this.view.nsMargin.nMarginBottom)+"px");$(this.view.szTagId).css("margin-left",String(this.view.nsMargin.nMarginLeft)+"px");$(this.view.szTagId).css("padding-top",String(this.view.nsPadding.nPaddingTop)+"px");$(this.view.szTagId).css("padding-right",String(this.view.nsPadding.nPaddingRight)+"px");$(this.view.szTagId).css("padding-bottom",String(this.view.nsPadding.nPaddingBottom)+"px");$(this.view.szTagId).css("padding-left",String(this.view.nsPadding.nPaddingLeft)+"px");this.view.nHeight=this.frame.nHeight-this.view.nsVertexes.nTop-this.view.nsVertexes.nBottom-this.view.nsMargin.nMarginTop-this.view.nsMargin.nMarginBottom-this.view.nsPadding.nPaddingTop-this.view.nsPadding.nPaddingBottom;this.view.nWidth=this.frame.nWidth-this.view.nsVertexes.nLeft-this.view.nsVertexes.nRight-this.view.nsMargin.nMarginLeft-this.view.nsMargin.nMarginRight-this.view.nsPadding.nPaddingRight-this.view.nsPadding.nPaddingLeft;$(this.view.szTagId).css("height","fit-content");$(this.view.szTagId).css("width",String(this.view.nWidth)+"px");$(this.frame.szTagId).css("height","auto");if(a==0){$(this.frame.szTagId).css("width",String(this.frame.nWidth)+"px")}else{$(this.frame.szTagId).animate({width:String(this.frame.nWidth)+"px"},a)}};RightSideBar.prototype.close=function(a){$(this.frame.szTagId).css("margin-right","0px");$(this.frame.szTagId).css("margin-left","0px");$(this.frame.szTagId).css("padding-right","0px");$(this.frame.szTagId).css("padding-left","0px");if(a==0){$(this.frame.szTagId).css("width","0px")}else{$(this.frame.szTagId).animate({width:"0px"},a)}};function FooterBar(a,b){this.frame=new Frame(a);this.view=new View(b);this.nVisualWidth=0}FooterBar.prototype.initFrameVertexes=function(a,b,c,d){this.frame.nsVertexes.nTop=0;this.frame.nsVertexes.nRight=c;this.frame.nsVertexes.nBottom=a;this.frame.nsVertexes.nLeft=a;this.nVisualHeight=d};FooterBar.prototype.initFrameMargin=function(d,c,a,b){this.frame.nsMargin.nMarginTop=d;this.frame.nsMargin.nMarginRight=c;this.frame.nsMargin.nMarginBottom=a;this.frame.nsMargin.nMarginLeft=b};FooterBar.prototype.initFramePadding=function(d,c,a,b){this.frame.nsPadding.nPaddingTop=d;this.frame.nsPadding.nPaddingRight=c;this.frame.nsPadding.nPaddingBottom=a;this.frame.nsPadding.nPaddingLeft=b};FooterBar.prototype.initViewVertexes=function(d,c,a,b){this.view.nsVertexes.nTop=d;this.view.nsVertexes.nRight=c;this.view.nsVertexes.nBottom=a;this.view.nsVertexes.nLeft=b};FooterBar.prototype.initViewMargin=function(d,c,a,b){this.view.nsMargin.nMarginTop=d;this.view.nsMargin.nMarginRight=c;this.view.nsMargin.nMarginBottom=a;this.view.nsMargin.nMarginLeft=b};FooterBar.prototype.initViewPadding=function(d,c,a,b){this.view.nsPadding.nPaddingTop=d;this.view.nsPadding.nPaddingRight=c;this.view.nsPadding.nPaddingBottom=a;this.view.nsPadding.nPaddingLeft=b};FooterBar.prototype.show=function(a){$(this.frame.szTagId).css("top","auto");$(this.frame.szTagId).css("right",String(this.frame.nsVertexes.nRight)+"px");$(this.frame.szTagId).css("bottom",String(this.frame.nsVertexes.nBottom)+"px");$(this.frame.szTagId).css("left",String(this.frame.nsVertexes.nLeft)+"px");$(this.frame.szTagId).css("margin-top",String(this.frame.nsMargin.nMarginTop)+"px");$(this.frame.szTagId).css("margin-right",String(this.frame.nsMargin.nMarginRight)+"px");$(this.frame.szTagId).css("margin-bottom",String(this.frame.nsMargin.nMarginBottom)+"px");$(this.frame.szTagId).css("margin-left",String(this.frame.nsMargin.nMarginLeft)+"px");$(this.frame.szTagId).css("padding-top",String(this.frame.nsPadding.nPaddingTop)+"px");$(this.frame.szTagId).css("padding-right",String(this.frame.nsPadding.nPaddingRight)+"px");$(this.frame.szTagId).css("padding-bottom",String(this.frame.nsPadding.nPaddingBottom)+"px");$(this.frame.szTagId).css("padding-left",String(this.frame.nsPadding.nPaddingLeft)+"px");this.frame.nHeight=this.nVisualHeight-this.frame.nsPadding.nPaddingTop-this.frame.nsPadding.nPaddingBottom;this.frame.nWidth=$(window).width()-this.frame.nsVertexes.nLeft-this.frame.nsVertexes.nRight-this.frame.nsPadding.nPaddingRight-this.frame.nsPadding.nPaddingLeft;$(this.view.szTagId).css("top","auto");$(this.view.szTagId).css("right",String(this.view.nsVertexes.nRight)+"px");$(this.view.szTagId).css("bottom",String(this.view.nsVertexes.nBottom)+"px");$(this.view.szTagId).css("left",String(this.view.nsVertexes.nLeft)+"px");$(this.view.szTagId).css("margin-top",String(this.view.nsMargin.nMarginTop)+"px");$(this.view.szTagId).css("margin-right",String(this.view.nsMargin.nMarginRight)+"px");$(this.view.szTagId).css("margin-bottom",String(this.view.nsMargin.nMarginBottom)+"px");$(this.view.szTagId).css("margin-left",String(this.view.nsMargin.nMarginLeft)+"px");$(this.view.szTagId).css("padding-top",String(this.view.nsPadding.nPaddingTop)+"px");$(this.view.szTagId).css("padding-right",String(this.view.nsPadding.nPaddingRight)+"px");$(this.view.szTagId).css("padding-bottom",String(this.view.nsPadding.nPaddingBottom)+"px");$(this.view.szTagId).css("padding-left",String(this.view.nsPadding.nPaddingLeft)+"px");this.view.nHeight=this.frame.nHeight-this.view.nsVertexes.nTop-this.view.nsVertexes.nBottom-this.view.nsMargin.nMarginBottom-this.view.nsMargin.nMarginTop-this.view.nsPadding.nPaddingTop-this.view.nsPadding.nPaddingBottom;this.view.nWidth=this.frame.nWidth-this.view.nsVertexes.nLeft-this.view.nsVertexes.nRight-this.view.nsMargin.nMarginLeft-this.view.nsMargin.nMarginRight-this.view.nsPadding.nPaddingRight-this.view.nsPadding.nPaddingLeft;$(this.view.szTagId).css("height",String(this.view.nHeight)+"px");$(this.view.szTagId).css("width",String(this.view.nWidth)+"px");$(this.frame.szTagId).css("width",String(this.frame.nWidth)+"px");if(a==0){$(this.frame.szTagId).css("height",String(this.frame.nHeight)+"px")}else{$(this.frame.szTagId).animate({height:String(this.frame.nHeight)+"px"},a)}};FooterBar.prototype.close=function(a){$(this.frame.szTagId).css("margin-top","0px");$(this.frame.szTagId).css("margin-bottom","0px");$(this.frame.szTagId).css("padding-top","0px");$(this.frame.szTagId).css("padding-bottom","0px");if(a==0){$(this.frame.szTagId).css("height","0px")}else{$(this.frame.szTagId).animate({height:"0px"},a)}};function HeaderBar(a,b){this.frame=new Frame(a);this.view=new View(b);this.nVisualWidth=0}HeaderBar.prototype.initFrameVertexes=function(c,a,b,d){this.frame.nsVertexes.nTop=c;this.frame.nsVertexes.nRight=b;this.frame.nsVertexes.nBottom=0;this.frame.nsVertexes.nLeft=a;this.nVisualHeight=d};HeaderBar.prototype.initFrameMargin=function(d,c,a,b){this.frame.nsMargin.nMarginTop=d;this.frame.nsMargin.nMarginRight=c;this.frame.nsMargin.nMarginBottom=a;this.frame.nsMargin.nMarginLeft=b};HeaderBar.prototype.initFramePadding=function(d,c,a,b){this.frame.nsPadding.nPaddingTop=d;this.frame.nsPadding.nPaddingRight=c;this.frame.nsPadding.nPaddingBottom=a;this.frame.nsPadding.nPaddingLeft=b};HeaderBar.prototype.initViewVertexes=function(d,c,a,b){this.view.nsVertexes.nTop=d;this.view.nsVertexes.nRight=c;this.view.nsVertexes.nBottom=a;this.view.nsVertexes.nLeft=b};HeaderBar.prototype.initViewMargin=function(d,c,a,b){this.view.nsMargin.nMarginTop=d;this.view.nsMargin.nMarginRight=c;this.view.nsMargin.nMarginBottom=a;this.view.nsMargin.nMarginLeft=b};HeaderBar.prototype.initViewPadding=function(d,c,a,b){this.view.nsPadding.nPaddingTop=d;this.view.nsPadding.nPaddingRight=c;this.view.nsPadding.nPaddingBottom=a;this.view.nsPadding.nPaddingLeft=b};HeaderBar.prototype.show=function(a){$(this.frame.szTagId).css("top",String(this.frame.nsVertexes.nTop)+"px");$(this.frame.szTagId).css("right",String(this.frame.nsVertexes.nRight)+"px");$(this.frame.szTagId).css("bottom","auto");$(this.frame.szTagId).css("left",String(this.frame.nsVertexes.nLeft)+"px");$(this.frame.szTagId).css("margin-top",String(this.frame.nsMargin.nMarginTop)+"px");$(this.frame.szTagId).css("margin-right",String(this.frame.nsMargin.nMarginRight)+"px");$(this.frame.szTagId).css("margin-bottom",String(this.frame.nsMargin.nMarginBottom)+"px");$(this.frame.szTagId).css("margin-left",String(this.frame.nsMargin.nMarginLeft)+"px");$(this.frame.szTagId).css("padding-top",String(this.frame.nsPadding.nPaddingTop)+"px");$(this.frame.szTagId).css("padding-right",String(this.frame.nsPadding.nPaddingRight)+"px");$(this.frame.szTagId).css("padding-bottom",String(this.frame.nsPadding.nPaddingBottom)+"px");$(this.frame.szTagId).css("padding-left",String(this.frame.nsPadding.nPaddingLeft)+"px");this.frame.nHeight=this.nVisualHeight-this.frame.nsPadding.nPaddingTop-this.frame.nsPadding.nPaddingBottom;this.frame.nWidth=$(window).width()-this.frame.nsVertexes.nLeft-this.frame.nsVertexes.nRight-this.frame.nsPadding.nPaddingRight-this.frame.nsPadding.nPaddingLeft;$(this.view.szTagId).css("top",String(this.view.nsVertexes.nTop)+"px");$(this.view.szTagId).css("right",String(this.view.nsVertexes.nRight)+"px");$(this.view.szTagId).css("bottom","auto");$(this.view.szTagId).css("left",String(this.view.nsVertexes.nLeft)+"px");$(this.view.szTagId).css("margin-top",String(this.view.nsMargin.nMarginTop)+"px");$(this.view.szTagId).css("margin-right",String(this.view.nsMargin.nMarginRight)+"px");$(this.view.szTagId).css("margin-bottom",String(this.view.nsMargin.nMarginBottom)+"px");$(this.view.szTagId).css("margin-left",String(this.view.nsMargin.nMarginLeft)+"px");$(this.view.szTagId).css("padding-top",String(this.view.nsPadding.nPaddingTop)+"px");$(this.view.szTagId).css("padding-right",String(this.view.nsPadding.nPaddingRight)+"px");$(this.view.szTagId).css("padding-bottom",String(this.view.nsPadding.nPaddingBottom)+"px");$(this.view.szTagId).css("padding-left",String(this.view.nsPadding.nPaddingLeft)+"px");this.view.nHeight=this.frame.nHeight-this.view.nsVertexes.nTop-this.view.nsVertexes.nBottom-this.view.nsMargin.nMarginTop-this.view.nsMargin.nMarginBottom-this.view.nsPadding.nPaddingTop-this.view.nsPadding.nPaddingBottom;this.view.nWidth=this.frame.nWidth-this.view.nsVertexes.nLeft-this.view.nsVertexes.nRight-this.view.nsMargin.nMarginLeft-this.view.nsMargin.nMarginRight-this.view.nsPadding.nPaddingRight-this.view.nsPadding.nPaddingLeft;$(this.view.szTagId).css("height",String(this.view.nHeight)+"px");$(this.view.szTagId).css("width",String(this.view.nWidth)+"px");$(this.frame.szTagId).css("width",String(this.frame.nWidth)+"px");if(a==0){$(this.frame.szTagId).css("height",String(this.frame.nHeight)+"px")}else{$(this.frame.szTagId).animate({height:String(this.frame.nHeight)+"px"},a)}};HeaderBar.prototype.close=function(a){$(this.frame.szTagId).css("margin-top","0px");$(this.frame.szTagId).css("margin-bottom","0px");$(this.frame.szTagId).css("padding-top","0px");$(this.frame.szTagId).css("padding-bottom","0px");if(a==0){$(this.frame.szTagId).css("height","0px")}else{$(this.frame.szTagId).animate({height:"0px"},a)}};function RxBody(){this.nMarginRight=0;this.nMarginBottom=0}RxBody.prototype.initMarginRightBottom=function(d,c){this.nMarginRight=d;this.nMarginBottom=c};RxBody.prototype.fold=function(b){$("body").animate({marginRight:String(this.nMarginRight)+"px"},b);$("body").animate({marginBottom:String(this.nMarginBottom)+"px"},b)};RxBody.prototype.unfold=function(b){$("body").animate({marginRight:"0px"},b);$("body").animate({marginBottom:"0px"},b)};var CONST_ELEMSTATUS_INIT=0;var CONST_ELEMSTATUS_ACTIVE=1;function RxComboElem(b,c,a){this.nStatusId=0;this.nStatusCount=a;this.szaIconIds=b.split(",");this.szaMethods=c.split(",")}RxComboElem.prototype.switchStatus=function(){this.nStatusId=this.nStatusId+1<this.nStatusCount?this.nStatusId+1:0};RxComboElem.prototype.getMethod=function(){return this.szaMethods[this.nStatusId]};RxComboElem.prototype.getIconId=function(){return this.szaIconIds[this.nStatusId]};var CONST_DRAGGING_INACTIVE=0;var CONST_DRAGGING_ACTIVED=1;var CONST_DRAGGING_PROCCESING=2;function RxComboButton(g,i,h,d,f,e,b,c,a){this.szIdS="#"+g;this.szMDwS="#"+i;this.szMbC=h;this.szDbC=d;this.szEwS="#"+f;this.szEbC=e;this.nCd=b;this.nEh=c;this.fDd=a;this.arElems=new Array();this.szIeS="";this.szUeS="";this.szLeS="";this.nDf=0;this.nDi=0;this.nDy=0;this.bES=false;this.tClickTimerId=0;$(this.szMDwS).empty();$(this.szMDwS).css("display","block");$(this.szEwS).empty();$(this.szEwS).css("display","none");return}RxComboButton.prototype.appendElement=function(b){this.arElems.push(b);if(this.arElems.length==1){var a=document.createElement("div");a.setAttribute("id",this.arElems[0].getIconId());a.setAttribute("class",this.szMbC);a.setAttribute("style","display:block;");$(this.szMDwS).append(a);$(this.szMDwS).attr("onmousedown","RxComboButton.getInstance(0).onMouseDown(event)");$(this.szMDwS).attr("onmouseup","RxComboButton.getInstance(0).onMouseUp(event)");$(this.szMDwS).attr("ondblclick","RxComboButton.getInstance(0).onDoubleClick(event)");$(this.szMDwS).attr("onclick","RxComboButton.getInstance(0).onClick(event)");$(this.szMDwS).attr("ontouchstart","RxComboButton.getInstance(0).onTouchStart(event)");$(this.szMDwS).attr("ontouchend","RxComboButton.getInstance(0).onTouchEnd(event)");$(this.szMDwS).attr("ontouchmove","RxComboButton.getInstance(0).onTouchMove(event)")}else{var a=document.createElement("div");a.setAttribute("id",this.arElems[this.arElems.length-1].getIconId());a.setAttribute("onclick",this.arElems[this.arElems.length-1].getMethod());a.setAttribute("class",this.szEbC);a.setAttribute("style","display:block");$(this.szEwS).append(a)}return};RxComboButton.prototype.switchElemStatus=function(b){for(var a=0;a<this.arElems.length;a++){if(this.arElems[a].getIconId()==b){this.arElems[a].switchStatus();$("#"+b+"."+this.szMbC).attr("id",this.arElems[a].getIconId());$("#"+this.arElems[a].getIconId()+"."+this.szMbC).attr("onclick",this.arElems[a].getMethod());$("#"+this.arElems[a].getIconId()+"."+this.szMbC).attr("onclick","");$("#"+b+"."+this.szEbC).attr("id",this.arElems[a].getIconId());$("#"+this.arElems[a].getIconId()+"."+this.szEbC).attr("onclick",this.arElems[a].getMethod());break}}return};RxComboButton.prototype.getButtonId=function(a){var b="";if(this.arElems.length>=0&&a<this.arElems.length){b=this.arElems[a].getIconId()}return b};RxComboButton.prototype.getPrevButtonId=function(a){var b=this.getPrevButtonIndex(a);return this.arElems[b].getIconId()};RxComboButton.prototype.getNextButtonId=function(a){var b=this.getNextButtonIndex(a);return this.arElems[b].getIconId()};RxComboButton.prototype.getPrevButtonIndex=function(a){return(this.nDi-1>=0)?(this.nDi-1):(this.arElems.length-1)};RxComboButton.prototype.getNextButtonIndex=function(a){return(this.nDi+1>this.arElems.length-1)?0:(this.nDi+1)};RxComboButton.prototype.onMouseDown=function(a){if(this.nDf==CONST_DRAGGING_INACTIVE&&a.which==1){this.nDf=CONST_DRAGGING_ACTIVED;this.nDy=a.clientY}return};RxComboButton.prototype.onMouseUp=function(a){if(this.nDf==CONST_DRAGGING_PROCCESING){this.finishDragging()}this.nDf=CONST_DRAGGING_INACTIVE;return};RxComboButton.prototype.onDoubleClick=function(a){if(this.bES==true){this.contractButtons()}else{this.expandButtons()}return};RxComboButton.prototype.onMouseMove=function(a){if(this.bES==false&&this.nDf>0){a.preventDefault();if(this.nDf==CONST_DRAGGING_ACTIVED){this.initDragging();this.nDf=CONST_DRAGGING_PROCCESING}var b=this.proccessDragging(a.clientY-this.nDy);if(b!=0){this.nDy=a.clientY;this.restoreDragging(b)}}return};RxComboButton.prototype.onClick=function(ev){if(this.tClickTimerId==0){var pThis=this;this.tClickTimerId=setTimeout(function(){if(pThis.tClickTimerId>0){if(pThis.bES==true){eval(pThis.arElems[0].getMethod())}else{eval(pThis.arElems[pThis.nDi].getMethod())}}pThis.tClickTimerId=0},300)}else{this.tClickTimerId=0}return};RxComboButton.prototype.onTouchStart=function(a){if(this.tClickTimerId==0){if(this.nDf==CONST_DRAGGING_INACTIVE){this.nDf=CONST_DRAGGING_ACTIVED;this.nDy=a.changedTouches[0].clientY}}else{if(this.bES==true){this.contractButtons()}else{this.expandButtons()}}return};RxComboButton.prototype.onTouchEnd=function(a){if(this.nDf==CONST_DRAGGING_PROCCESING){this.finishDragging()}this.nDf=CONST_DRAGGING_INACTIVE;return};RxComboButton.prototype.onTouchMove=function(a){if(this.bES==false&&this.nDf>0){a.preventDefault();if(this.nDf==CONST_DRAGGING_ACTIVED){this.initDragging();this.nDf=CONST_DRAGGING_PROCCESING}var b=a.changedTouches[0].clientY;var c=this.proccessDragging(b-this.nDy);if(c!=0){this.nDy=a.changedTouches[0].clientY;this.restoreDragging(c)}}};RxComboButton.prototype.initDragging=function(){var b=parseInt($(this.szIdS).css("top"));var a=parseInt($(this.szIdS).css("left"));$("#"+this.getButtonId(this.nDi)+"."+this.szMbC).css("opacity","0");this.szIeS="#"+this.getButtonId(this.nDi)+"."+this.szDbC;this.szUeS="#"+this.getPrevButtonId(this.nDi)+"."+this.szDbC;this.szLeS="#"+this.getNextButtonId(this.nDi)+"."+this.szDbC;var c=document.createElement("div");c.setAttribute("id",this.getButtonId(this.nDi));c.setAttribute("class",this.szDbC);c.setAttribute("draggable","true");$(this.szMDwS).after(c);$(this.szIeS).css("top",b+"px");$(this.szIeS).css("left",a+"px");$(this.szIeS).css("display","block");var e=document.createElement("div");e.setAttribute("id",this.getPrevButtonId(this.nDi));e.setAttribute("class",this.szDbC);e.setAttribute("draggable","true");$(this.szMDwS).after(e);$(this.szUeS).css("top",(b-this.nEh)+"px");$(this.szUeS).css("left",a+"px");$(this.szUeS).css("display","block");var d=document.createElement("div");d.setAttribute("id",this.getNextButtonId(this.nDi));d.setAttribute("class",this.szDbC);d.setAttribute("draggable","true");$(this.szMDwS).after(d);$(this.szLeS).css("top",(b+this.nEh)+"px");$(this.szLeS).css("left",a+"px");$(this.szLeS).css("display","block");$(this.szUeS).css("opacity","0");$(this.szLeS).css("opacity","0");return};RxComboButton.prototype.restoreDragging=function(c){var b=parseInt($(this.szIdS).css("top"));var a=parseInt($(this.szIdS).css("left"));if(c>0){$(this.szIeS).animate({top:String(b+this.nEh)+"px",opacity:"0"},CONST_ANIMATION_DURATION);$(this.szUeS).animate({top:b+"px",opacity:"1"},CONST_ANIMATION_DURATION);$(this.szLeS).css("display","none");$(this.szLeS).remove();this.szLeS=this.szIeS;this.szIeS=this.szUeS;this.nDi=this.getPrevButtonIndex(this.nDi);var e=document.createElement("div");e.setAttribute("id",this.getPrevButtonId(this.nDi));e.setAttribute("class",this.szDbC);$(this.szMDwS).after(e);this.szUeS="#"+this.getPrevButtonId(this.nDi)+"."+this.szDbC;$(this.szUeS).css("top",(b-this.nEh)+"px");$(this.szUeS).css("left",a+"px");$(this.szUeS).css("display","block");$(this.szUeS).css("opacity","0")}else{$(this.szIeS).animate({top:String(b-this.nEh)+"px",opacity:"0"},CONST_ANIMATION_DURATION);$(this.szLeS).animate({top:b+"px",opacity:"1"},CONST_ANIMATION_DURATION);$(this.szUeS).css("display","none");$(this.szUeS).remove();this.szUeS=this.szIeS;this.szIeS=this.szLeS;this.nDi=this.getNextButtonIndex(this.nDi);var d=document.createElement("div");d.setAttribute("id",this.getNextButtonId(this.nDi));d.setAttribute("class",this.szDbC);$(this.szMDwS).after(d);this.szLeS="#"+this.getNextButtonId(this.nDi)+"."+this.szDbC;$(this.szLeS).css("top",(b+this.nEh)+"px");$(this.szLeS).css("left",a+"px");$(this.szLeS).css("display","block");$(this.szLeS).css("opacity","0")}return};RxComboButton.prototype.proccessDragging=function(a){var c=0;var b=parseInt($(this.szIdS).css("top"));if(a>0){if(a>=this.nCd){c=1}else{$(this.szIeS).css("top",(parseInt($(this.szIeS).css("top"))+a*this.fDd)+"px");$(this.szUeS).css("top",(parseInt($(this.szUeS).css("top"))+a*this.fDd)+"px");$(this.szLeS).css("top",(parseInt($(this.szLeS).css("top"))+a*this.fDd)+"px")}}else{if(Math.abs(a)>=this.nCd){c=-1}else{$(this.szIeS).css("top",(parseInt($(this.szIeS).css("top"))-Math.abs(a)*this.fDd)+"px");$(this.szUeS).css("top",(parseInt($(this.szUeS).css("top"))-Math.abs(a)*this.fDd)+"px");$(this.szLeS).css("top",(parseInt($(this.szLeS).css("top"))-Math.abs(a)*this.fDd)+"px")}}return c};RxComboButton.prototype.finishDragging=function(){$(this.szUeS).css("display","none");$(this.szUeS).remove();$(this.szLeS).css("display","none");$(this.szLeS).remove();var a=this;$(this.szIeS).animate({top:parseInt($(this.szIdS).css("top"))+"px"},CONST_ANIMATION_DURATION,function(){$(a.szMDwS).empty();var b=document.createElement("div");b.setAttribute("id",a.getButtonId(a.nDi));b.setAttribute("class",a.szMbC);b.setAttribute("style","display:block;");$(a.szMDwS).append(b);$(a.szIeS).css("display","none");$(a.szIeS).remove()});return};RxComboButton.prototype.contractButtons=function(){$(this.szMDwS).empty();var a=document.createElement("div");a.setAttribute("id",this.getButtonId(this.nDi));a.setAttribute("class",this.szMbC);$(this.szMDwS).append(a);this.showButtonsList(false);this.bES=false;return};RxComboButton.prototype.expandButtons=function(){$(this.szMDwS).empty();var a=document.createElement("div");a.setAttribute("id",this.getButtonId(0));a.setAttribute("class",this.szMbC);$(this.szMDwS).append(a);this.showButtonsList(true);this.bES=true;return};RxComboButton.prototype.showButtonsList=function(a){if(a==true){$(this.szEwS).css("display","block")}else{$(this.szEwS).css("display","none")}return};RxComboButton.pReadingButton=new RxComboButton("pageBottons","circleButton","rxCircleButton","rxCircleButtonMask","smallButtonGroup","rxPageButtonSmall",21,50,0.05);RxComboButton.initComboButtons=function(){RxComboButton.pReadingButton.appendElement(new RxComboElem("doOpenCatalogFrame,signalOpenCatalogFrame","openCatalogFrame(),closeCatalogFrame()",2));RxComboButton.pReadingButton.appendElement(new RxComboElem("doGoTop,signalGoTop","onGoTop(),onReverseGoTop()",2));RxComboButton.pReadingButton.appendElement(new RxComboElem("doGoPreviousHeader","onGoPrevHeader()",1));RxComboButton.pReadingButton.appendElement(new RxComboElem("doGoNextHeader","onGoNextHeader()",1));return};RxComboButton.getInstance=function(a){return RxComboButton.pReadingButton};var CONST_SMARTPHONE_HOWIDTH=568;var CONST_TABLET_HOWIDTH=768;var CONST_LAPTOP_WIDTH=1120;var CONST_PCMONITOR_WIDTH=1800;var CONST_SCREENTYPE_UNINITIAL=0;var CONST_SCREENTYPE_SMARTPHONE_VERTICAL=1;var CONST_SCREENTYPE_SMARTPHONE_HORIZONTAL=2;var CONST_SCREENTYPE_TABLET=3;var CONST_SCREENTYPE_LAPTOP=4;var CONST_SCREENTYPE_PCMONITOR=5;var CONST_SMARTPHONE_FOOTERBAR_HEIGHT_MIN=160;var CONST_SMARTPHONE_RIGHTSIDEBAR_WIDTH=200;var CONST_TABLET_LEFTSIDEBAR_WIDTH=178;var CONST_LAPTOP_LEFTSIDEBAR_WIDTH=266;var CONST_PCMONITOR_RIGHTSIDEBAR_WIDTH=357;var CONST_ANIMATION_DURATION=300;var CONST_ID_CATABAR_FRAME="#catalogFrame";var CONST_ID_CATABAR_VIEW="#catalogInnerFrame";function RxPagelayout(){this.eoCataBar=null;this.eoRxBody=null;this.nScreeType=CONST_SCREENTYPE_UNINITIAL;this.bCatabarOpening=false;this.nSmartPhoneFooterBarBarHeight=0;this.nWinInnerHeight=0}RxPagelayout.prototype.getScreenType=function(a){if(a<CONST_SMARTPHONE_HOWIDTH){return CONST_SCREENTYPE_SMARTPHONE_VERTICAL}else{if(a<CONST_TABLET_HOWIDTH){return CONST_SCREENTYPE_SMARTPHONE_HORIZONTAL}else{if(a<CONST_LAPTOP_WIDTH){return CONST_SCREENTYPE_TABLET}else{if(a<CONST_PCMONITOR_WIDTH){return CONST_SCREENTYPE_LAPTOP}else{return CONST_SCREENTYPE_PCMONITOR}}}}};RxPagelayout.prototype.getCatalogBar=function(b){var a=null;switch(b){case CONST_SCREENTYPE_SMARTPHONE_VERTICAL:a=new FooterBar(CONST_ID_CATABAR_FRAME,CONST_ID_CATABAR_VIEW);a.initFrameVertexes(0,0,0,this.nSmartPhoneFooterBarBarHeight);a.initFrameMargin(0,0,0,0);a.initFramePadding(0,0,0,0);a.initViewVertexes(0,0,0,0);a.initViewMargin(15,9,10,9);a.initViewPadding(15,5,35,5);break;case CONST_SCREENTYPE_SMARTPHONE_HORIZONTAL:a=new RightSideBar(CONST_ID_CATABAR_FRAME,CONST_ID_CATABAR_VIEW);a.initFrameVertexes(0,0,0,CONST_SMARTPHONE_RIGHTSIDEBAR_WIDTH);a.initFrameMargin(0,0,0,0);a.initFramePadding(0,0,0,0);a.initViewVertexes(0,0,0,0);a.initViewMargin(10,15,10,10);a.initViewPadding(30,3,30,5);break;case CONST_SCREENTYPE_TABLET:a=new LeftSideBar(CONST_ID_CATABAR_FRAME,CONST_ID_CATABAR_VIEW);a.initFrameVertexes(0,35,27,CONST_TABLET_LEFTSIDEBAR_WIDTH);a.initFrameMargin(0,0,0,0);a.initFramePadding(0,0,0,0);a.initViewVertexes(0,0,0,0);a.initViewMargin(10,5,0,5);a.initViewPadding(3,3,30,1);break;case CONST_SCREENTYPE_LAPTOP:a=new LeftSideBar(CONST_ID_CATABAR_FRAME,CONST_ID_CATABAR_VIEW);a.initFrameVertexes(2,94,27,CONST_LAPTOP_LEFTSIDEBAR_WIDTH);a.initFrameMargin(0,0,0,0);a.initFramePadding(0,0,0,0);a.initViewVertexes(0,0,0,0);a.initViewMargin(10,20,0,11);a.initViewPadding(3,3,30,1);break;case CONST_SCREENTYPE_PCMONITOR:a=new RightSideBar(CONST_ID_CATABAR_FRAME,CONST_ID_CATABAR_VIEW);a.initFrameVertexes(0,3,3,CONST_PCMONITOR_RIGHTSIDEBAR_WIDTH);a.initFrameMargin(0,0,0,0);a.initFramePadding(0,0,0,0);a.initViewVertexes(0,0,0,0);a.initViewMargin(3,3,3,15);a.initViewPadding(15,5,35,5);break}return a};RxPagelayout.prototype.getRxBody=function(b){var a=null;switch(b){case CONST_SCREENTYPE_SMARTPHONE_VERTICAL:a=new RxBody();a.initMarginRightBottom(0,CONST_SMARTPHONE_FOOTERBAR_HEIGHT_MIN+2);break;case CONST_SCREENTYPE_SMARTPHONE_HORIZONTAL:a=new RxBody();a.initMarginRightBottom(CONST_SMARTPHONE_RIGHTSIDEBAR_WIDTH,0);break;case CONST_SCREENTYPE_TABLET:a=new RxBody();a.initMarginRightBottom(0,0);break;case CONST_SCREENTYPE_LAPTOP:a=new RxBody();a.initMarginRightBottom(0,0);break;case CONST_SCREENTYPE_PCMONITOR:a=new RxBody();a.initMarginRightBottom(CONST_PCMONITOR_RIGHTSIDEBAR_WIDTH,0);break}return a};RxPagelayout.prototype.updateLayout=function(b,a){var c=0;if(this.nScreeType!=this.getScreenType(b)){this.nScreeType=this.getScreenType(b);c+=1}if(this.nScreeType==CONST_SCREENTYPE_SMARTPHONE_VERTICAL){if(a-this.nWinInnerHeight>100||this.nWinInnerHeight-a>100){this.nSmartPhoneFooterBarBarHeight=a*0.26;if(this.nSmartPhoneFooterBarBarHeight<CONST_SMARTPHONE_FOOTERBAR_HEIGHT_MIN){this.nSmartPhoneFooterBarBarHeight=CONST_SMARTPHONE_FOOTERBAR_HEIGHT_MIN}this.nWinInnerHeight=a;c+=1}}if(c>0){this.eoCataBar=null;this.eoRxBody=null;this.eoCataBar=this.getCatalogBar(this.nScreeType);this.eoRxBody=this.getRxBody(this.nScreeType)}return};RxPagelayout.prototype.onWindowResize=function(b,a){this.updateLayout(b,a);this.switchCataBar();return};RxPagelayout.prototype.openCataBar=function(){this.eoCataBar.show(CONST_ANIMATION_DURATION);this.eoRxBody.fold(CONST_ANIMATION_DURATION);this.bCatabarOpening=true;return};RxPagelayout.prototype.closeCataBar=function(){this.eoCataBar.close(CONST_ANIMATION_DURATION);this.eoRxBody.unfold(CONST_ANIMATION_DURATION);this.bCatabarOpening=false;return};RxPagelayout.prototype.switchCataBar=function(){this.eoRxBody.unfold(0);if(this.bCatabarOpening){this.eoCataBar.show(0);this.eoRxBody.fold(0)}return};RxPagelayout.prototype.getNavBarHeight=function(){var a=0;if(this.nScreeType==CONST_SCREENTYPE_TABLET){a=35}return a};RxPagelayout.pDeeplying=new RxPagelayout();RxPagelayout.getInstance=function(){return RxPagelayout.pDeeplying};function addTitleDate(){var a=document.createElement("div");a.setAttribute("id","titleDate");$("#cb_post_title_url").after(a);var c=$("#post-date")[0].innerText;var d=new Date(c.replace(/-/g,"/"));var b="发布日期 "+d.getFullYear()+"年"+(d.getMonth()+1).toString()+"月"+d.getDate().toString()+"日";$("#titleDate")[0].innerText=b;return}function openCatalogFrame(){RxPagelayout.getInstance().openCataBar();RxComboButton.getInstance().switchElemStatus("doOpenCatalogFrame");return}function closeCatalogFrame(){RxPagelayout.getInstance().closeCataBar();RxComboButton.getInstance().switchElemStatus("signalOpenCatalogFrame");return}var nScrollTopTemp=0;function onGoTop(){if(window.pageYOffset>0){nScrollTopTemp=window.pageYOffset;window.scrollTo(0,0);RxComboButton.getInstance().switchElemStatus("doGoTop");document.addEventListener("scroll",onUnlockTop,false)}return}function onUnlockTop(){if(window.pageYOffset>0){RxComboButton.getInstance().switchElemStatus("signalGoTop");document.removeEventListener("scroll",onUnlockTop,false)}return}function onReverseGoTop(){RxComboButton.getInstance().switchElemStatus("signalGoTop");window.scrollTo(0,nScrollTopTemp);return}var CONST_CHARMING_GAP=6;function onGoPrevHeader(){var a=RxCatalog.getInstance().getPreviousSectionTop(window.pageYOffset+RxPagelayout.getInstance().getNavBarHeight());window.scrollTo(0,(a-RxPagelayout.getInstance().getNavBarHeight()-CONST_CHARMING_GAP));return}function onGoNextHeader(){var a=RxCatalog.getInstance().getNextSectionTop(window.pageYOffset+RxPagelayout.getInstance().getNavBarHeight());window.scrollTo(0,(a-RxPagelayout.getInstance().getNavBarHeight()-CONST_CHARMING_GAP));return}function prepareScene(){if($("#cb_post_title_url").length==1){RxPagelayout.getInstance().updateLayout(window.innerWidth,window.innerHeight);RxCatalog.initCatalog();RxComboButton.initComboButtons();addTitleDate()}return}$(window).load(function(){prepareScene()});$(window).resize(function(){RxPagelayout.getInstance().onWindowResize(window.innerWidth,window.innerHeight);RxCatalog.getInstance().highlightCataItem(window.pageYOffset)});$(window).scroll(function(){RxCatalog.getInstance().highlightCataItem(window.pageYOffset+RxPagelayout.getInstance().getNavBarHeight())});$(window).mouseup(function(){RxComboButton.getInstance().onMouseUp(window.event)});$(window).mousemove(function(){RxComboButton.getInstance().onMouseMove(window.event)});$(window).bind("hashchange",function(){var a=RxCatalog.getInstance().getOffsetTopFromHash(decodeURI(location.hash));window.scrollTo(0,a-RxPagelayout.getInstance().getNavBarHeight()-CONST_CHARMING_GAP)});
